!function(){function t(t,r){for(var n in r)t[n]=r[n]}Klas=function(){},Klas.extend=function(){var r,n=this,e=n.prototype,o=[];0===arguments.length?r={}:(o=[].slice.call(arguments,0,-1),r=arguments[arguments.length-1]);var a;a=r.hasOwnProperty("constructor")?r.constructor:function(){n.apply(this,arguments)};var s=function(){};s.prototype=e;var u=a.prototype=new s;t(a,n);for(var c=0;c<o.length;c++){var i=o[c];t(a,i);var p=i.prototype;t(u,p)}return r.statics&&(t(a,r.statics),delete r.statics),a.super_=n,r.superProto_=e,t(u,r),a}}();
;!function(){function t(t){var e,n={},i={};return t.find("[ref],[widget]").each(function(){var t=$(this),r=t.attr("ref");r?e=n:(r=t.attr("widget"),e=i);var s=e[r];s?s.push(this):e[r]=t}),[n,i]}function e(t,e){return function(n){var i=e.apply(t,arguments);return i!==!0?(n.stopPropagation(),i):void 0}}Jeact=Klas.extend({constructor:function(n){null==n&&(n={}),this.props=n,this.preInit();var i;i="string"==typeof this.template?this.template:this.template(),this.$el=$(i).data("widget",this);var r=t(this.$el);this.refs=r[0];for(var s=r[1],a=this.events,h=0;h<a.length;h++){var o=a[h],l=o.slice(0,-1),u=o[o.length-1],c=this[u];if(!c)throw new Error("no handler named "+u);l.push(e(this,c)),this.$el.on.apply(this.$el,l)}this.widgets={};var g=this.initWidgets();for(var p in g){var f=s[p],v=g[p];f.replaceWith(v.$el),v.$el.attr("widget",p),this.widgets[p]=v}this.init()},$el:null,refs:null,widgets:null,template:"",events:[["_remove","onRemove"]],preInit:function(){},init:function(){},initWidgets:function(){return{}},remove:function(){this.$el.find("[widget]").andBack().each(function(){$(this).triggerHandler("_remove")}),this.$el.remove()},onRemove:function(){},emit:function(){return this.$el.triggerHandler.apply(this.$el,arguments)},dispatch:function(){return this.$el.trigger.apply(this.$el,arguments)}});var n=Jeact.extend;Jeact.extend=function(){var t=arguments[arguments.length-1];return t.events=this.prototype.events.concat(t.events||[]),n.apply(this,arguments)}}();